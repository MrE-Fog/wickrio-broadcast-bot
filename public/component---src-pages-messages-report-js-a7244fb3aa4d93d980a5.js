(window.webpackJsonp=window.webpackJsonp||[]).push([[5,2],{b7rG:function(e,t,a){"use strict";a.r(t);a("Z2Ku"),a("L9s1"),a("f3/d"),a("dRSK");var n=a("q1tI"),l=a.n(n),r=(a("Wbzz"),a("Fqsg"));t.default=function(e){var t,a,s,m=e.id,c=Object(n.useContext)(r.a),i=c.report,o=c.secGroups,u=c.sendReportStatus,d=c.downloadReport,g=Object(n.useState)(0),p=g[0],E=g[1],y=Object(n.useState)(25),f=y[0];y[1];Object(n.useEffect)((function(){u(m,0,25)}),[]);var b=o.find((function(e){var t;return e.id===(null==i||null===(t=i.broadcast)||void 0===t?void 0:t.target)}))||{name:"network"},v=new Date(null==i||null===(t=i.broadcast)||void 0===t?void 0:t.when_sent);return l.a.createElement(l.a.Fragment,null,i.broadcast?l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{style:{},className:"title-report"},i.broadcast.message),l.a.createElement("p",{className:"subtitle-report"},"Sent on "+v.toLocaleDateString()+" at "+v.toLocaleTimeString()+" to "+b.name),l.a.createElement("div",{style:{display:"flex",margin:"25px 0"}},l.a.createElement("div",{style:{margin:"0px 15px 0 0"}},l.a.createElement("h2",{className:"summaryVal",style:{margin:0}},Math.max(0,i.broadcast.summary.sent-i.broadcast.summary.failed)),l.a.createElement("p",{className:"summary",style:{margin:0}},"recieved")),l.a.createElement("div",{style:{margin:"0 15px"}},l.a.createElement("h2",{className:"summaryVal",style:{margin:0}},i.broadcast.summary.pending),l.a.createElement("p",{className:"summary",style:{margin:0}},"pending")),l.a.createElement("div",{style:{margin:"0 15px"}},l.a.createElement("h2",{className:"summaryVal",style:{margin:0}},i.broadcast.summary.failed),l.a.createElement("p",{className:"summary",style:{margin:0}},"failed")),l.a.createElement("div",{style:{margin:"0 15px"}},l.a.createElement("h2",{className:"summaryVal",style:{margin:0}},null===(a=i.broadcast.summary)||void 0===a?void 0:a.ack),l.a.createElement("p",{className:"summary",style:{margin:0}},"acknowledged"))),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignContent:"center",alignItems:"center"}},l.a.createElement("div",null,l.a.createElement("h2",{className:"report-table-title"},"Report")),l.a.createElement("button",{className:"downloadButton",onClick:function(){return d(i.broadcast.message_id,0,25)}},"Download")),l.a.createElement("section",{className:"sentsection",style:{marginTop:"20px",overflow:"scroll"}},l.a.createElement("table",null,l.a.createElement("thead",{bgcolor:"white"},l.a.createElement("tr",null,l.a.createElement("th",{className:"Date"},"Status"),l.a.createElement("th",{className:"tlabel"},"Name"),l.a.createElement("th",{className:"tlabel"},"Message"),l.a.createElement("th",{className:"tlabel"},"Sent"),l.a.createElement("th",{className:"tlabel"},"Read"))),l.a.createElement("tbody",null,null===(s=i.broadcast.report)||void 0===s?void 0:s.map((function(e,t){var a;return 0==e.status?e.status="pending":1==e.status?e.status="sent":2==e.status?e.status="failed":3==e.status?e.status="ack":4==e.status?e.status="ignored":5==e.status?e.status="aborted":6==e.status?e.status="read":7==e.status&&(e.status="delivered"),l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("p",{className:"sentmessagereport"},e.status)),l.a.createElement("td",{className:"trowreport"},e.user),(null==e||null===(a=e.status_message)||void 0===a?void 0:a.includes("http"))?l.a.createElement("td",{className:"trowreport"},l.a.createElement("a",{href:e.status_message,rel:"noopener noreferrer",target:"_blank"},"Location")):l.a.createElement("td",{className:"trowreport"},e.status_message),l.a.createElement("td",{className:"trowreport"},l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:12,fontFamily:"Open Sans",letterSpacing:"0.41px",textAlign:"right",color:"var(--text-light)",lineHeight:1.33}},new Date(e.sent_datetime).toLocaleDateString()),l.a.createElement("p",{style:{fontSize:12,fontFamily:"Open Sans",letterSpacing:"0.41px",textAlign:"right",color:"var(--text-light)",lineHeight:1.33}},new Date(e.sent_datetime).toLocaleTimeString()))),l.a.createElement("td",{className:"trowreport"},l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:12,fontFamily:"Open Sans",letterSpacing:"0.41px",textAlign:"right",color:"var(--text-light)",lineHeight:1.33}},new Date(e.read_datetime).toLocaleDateString()),l.a.createElement("p",{style:{fontSize:12,fontFamily:"Open Sans",letterSpacing:"0.41px",textAlign:"right",color:"var(--text-light)",lineHeight:1.33}},new Date(e.read_datetime).toLocaleTimeString()))))})))),i.broadcast.report.length>1&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{onClick:function(){return function(e,t,a){0!==t&&(E(t-1),u(e,t,a))}(p,f)}},"<"),l.a.createElement("p",null,(0==p?1:p)*f-24,"-",(0==p?1:p)*f),l.a.createElement("p",{onClick:function(){return function(e,t,a){u(e,t,a)}(p,f)}},">")))):"loading")}},rNNf:function(e,t,a){"use strict";a.r(t);var n=a("b7rG");t.default=n.default}}]);
//# sourceMappingURL=component---src-pages-messages-report-js-a7244fb3aa4d93d980a5.js.map