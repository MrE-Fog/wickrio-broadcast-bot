(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{b7rG:function(e,t,a){"use strict";a.r(t);a("Z2Ku"),a("L9s1"),a("f3/d"),a("dRSK");var l=a("q1tI"),n=a.n(l),r=(a("Wbzz"),a("Fqsg"));t.default=function(e){var t,a,s,m=e.id,c=Object(l.useContext)(r.a),o=c.report,i=c.secGroups,u=c.sendReportStatus,d=c.downloadReport,g=Object(l.useState)(0),p=g[0],E=g[1],y=Object(l.useState)(25),b=y[0];y[1];Object(l.useEffect)((function(){u(m,0,25)}),[]);var f=i.find((function(e){var t;return e.id===(null==o||null===(t=o.broadcast)||void 0===t?void 0:t.target)}))||{name:"network"};console.log({report:o});var v=new Date(null==o||null===(t=o.broadcast)||void 0===t?void 0:t.when_sent);return n.a.createElement(n.a.Fragment,null,o.broadcast?n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{style:{},className:"title-report"},o.broadcast.message),n.a.createElement("p",{className:"subtitle-report"},"Sent on "+v.toLocaleDateString()+" at "+v.toLocaleTimeString()+" to "+f.name),n.a.createElement("div",{style:{display:"flex",margin:"25px 0"}},n.a.createElement("div",{style:{margin:"0px 15px 0 0"}},n.a.createElement("h2",{className:"summaryVal",style:{margin:0}},Math.max(0,o.broadcast.summary.sent-o.broadcast.summary.failed)),n.a.createElement("p",{className:"summary",style:{margin:0}},"recieved")),n.a.createElement("div",{style:{margin:"0 15px"}},n.a.createElement("h2",{className:"summaryVal",style:{margin:0}},o.broadcast.summary.pending),n.a.createElement("p",{className:"summary",style:{margin:0}},"pending")),n.a.createElement("div",{style:{margin:"0 15px"}},n.a.createElement("h2",{className:"summaryVal",style:{margin:0}},o.broadcast.summary.failed),n.a.createElement("p",{className:"summary",style:{margin:0}},"failed")),n.a.createElement("div",{style:{margin:"0 15px"}},n.a.createElement("h2",{className:"summaryVal",style:{margin:0}},null===(a=o.broadcast.summary)||void 0===a?void 0:a.ack),n.a.createElement("p",{className:"summary",style:{margin:0}},"acknowledged"))),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignContent:"center",alignItems:"center"}},n.a.createElement("div",null,n.a.createElement("h2",{className:"report-table-title"},"Report")),n.a.createElement("button",{className:"downloadButton",onClick:function(){return d(o.broadcast.message_id,0,25)}},"Download")),n.a.createElement("section",{className:"sentsection",style:{marginTop:"20px",overflow:"scroll"}},n.a.createElement("table",null,n.a.createElement("thead",{bgcolor:"white"},n.a.createElement("tr",null,n.a.createElement("th",{className:"Date"},"Status"),n.a.createElement("th",{className:"tlabel"},"Name"),n.a.createElement("th",{className:"tlabel"},"Message"),n.a.createElement("th",{className:"tlabel"},"Sent"),n.a.createElement("th",{className:"tlabel"},"Read"))),n.a.createElement("tbody",null,null===(s=o.broadcast.report)||void 0===s?void 0:s.map((function(e,t){var a;return 0==e.status?e.status="pending":1==e.status?e.status="sent":2==e.status?e.status="failed":3==e.status?e.status="ack":4==e.status?e.status="ignored":5==e.status?e.status="aborted":6==e.status?e.status="read":7==e.status&&(e.status="delivered"),n.a.createElement("tr",{key:t},n.a.createElement("td",null,n.a.createElement("p",{className:"sentmessagereport"},e.status)),n.a.createElement("td",{className:"trowreport"},e.user),(null==e||null===(a=e.status_message)||void 0===a?void 0:a.includes("http"))?n.a.createElement("td",{className:"trowreport"},n.a.createElement("a",{href:e.status_message,rel:"noopener noreferrer",target:"_blank"},"Location")):n.a.createElement("td",{className:"trowreport"},e.status_message),n.a.createElement("td",{className:"trowreport"},n.a.createElement("div",null,n.a.createElement("p",{style:{fontSize:12,fontFamily:"Open Sans",letterSpacing:"0.41px",textAlign:"right",color:"var(--text-light)",lineHeight:1.33}},new Date(e.sent_datetime).toLocaleDateString()),n.a.createElement("p",{style:{fontSize:12,fontFamily:"Open Sans",letterSpacing:"0.41px",textAlign:"right",color:"var(--text-light)",lineHeight:1.33}},new Date(e.sent_datetime).toLocaleTimeString()))),n.a.createElement("td",{className:"trowreport"},n.a.createElement("div",null,n.a.createElement("p",{style:{fontSize:12,fontFamily:"Open Sans",letterSpacing:"0.41px",textAlign:"right",color:"var(--text-light)",lineHeight:1.33}},new Date(e.read_datetime).toLocaleDateString()),n.a.createElement("p",{style:{fontSize:12,fontFamily:"Open Sans",letterSpacing:"0.41px",textAlign:"right",color:"var(--text-light)",lineHeight:1.33}},new Date(e.read_datetime).toLocaleTimeString()))))})))),o.broadcast.report.length>1&&n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{onClick:function(){return function(e,t,a){0!==t&&(E(t-1),u(e,t,a))}(p,b)}},"<"),n.a.createElement("p",null,(0==p?1:p)*b-24,"-",(0==p?1:p)*b),n.a.createElement("p",{onClick:function(){return function(e,t,a){u(e,t,a)}(p,b)}},">")))):"loading")}}}]);
//# sourceMappingURL=component---src-components-message-report-js-cac0a2142fd9ccfd9b97.js.map